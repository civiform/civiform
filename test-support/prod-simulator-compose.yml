services:
  db:
    image: postgres:16.11@sha256:056b54f00419b49289227ab12d09df508543883f407fe9935a2cec430ef8aa8d
    restart: always
    ports:
      - 5432:5432
    environment:
      POSTGRES_PASSWORD: example

  civiform:
    platform: linux/amd64
    image: civiform:prod
    restart: always
    container_name: civiform_prod
    ports:
      - 8888:9000
    environment:
      # Randomly generated value to comply with Play's secret length
      - SECRET_KEY=K5SgucxBYC3xJwNcGWZV1Y7uASmrc+SqftbcTROH0s8=
      - APPLICANT_OIDC_CLIENT_ID=client
      - APPLICANT_OIDC_CLIENT_SECRET=notarealsecret
      - APPLICANT_OIDC_DISCOVERY_URI=https://civiform-staging.us.auth0.com/.well-known/openid-configuration
      - CIVIFORM_APPLICANT_IDP=auth0
