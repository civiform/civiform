# This is the main configuration file for the application.
# https://www.playframework.com/documentation/latest/ConfigFile
# ~~~~~
# Play uses HOCON as its configuration file format.  HOCON has a number
# of advantages over other config formats, but there are two things that
# can be used when modifying settings.
#
# You can include other configuration files in this main application.conf file:
#include "extra-config.conf"
#
# You can declare variables and substitute for them:
#mykey = ${some.value}
#
# And if an environment variable exists when there is no other subsitution, then
# HOCON will fall back to substituting environment variable:
#mykey = ${JAVA_HOME}

include "helper/akka.conf"
include "helper/auth.conf"
include "helper/cache.conf"
include "helper/cloud.conf"
include "helper/database.conf"
include "helper/esri.conf"
include "helper/feature-flags.conf"
include "helper/filters.conf"
include "helper/http.conf"
include "helper/ide.conf"
include "helper/internationalization.conf"
include "helper/jobs.conf"
include "helper/modules.conf"
include "helper/secret-key.conf"
include "helper/security.conf"
include "helper/webservice.conf"
include "helper/whitelabel.conf"

## filters/LoggingFilter configuration. Overrided in application.dev.conf.
filters.LoggingFilter.enable_request_session_logging = false

# Base url must start with http(s)://
base_url = "http://localhost:9000"
base_url = ${?BASE_URL}
# Staging hostname should not start with https(s)://.
staging_hostname = ""
staging_hostname = ${?STAGING_HOSTNAME}

measurement_id = ${?MEASUREMENT_ID}

## Support Email Address
# This email address is listed in the footer for applicants to contact support
support_email_address = "CiviForm@seattle.gov"
support_email_address = ${?SUPPORT_EMAIL_ADDRESS}

## IT Email Address
# This email address receives error notifications from CiviForm when things break
it_email_address = "CiviForm@seattle.gov"
it_email_address = ${?SUPPORT_EMAIL_ADDRESS}
it_email_address = ${?IT_EMAIL_ADDRESS}

staging_program_admin_notification_mailing_list = "seattle-civiform-program-admins-notify@google.com"
staging_program_admin_notification_mailing_list = ${?STAGING_ADMIN_LIST}
staging_ti_notification_mailing_list = "seattle-civiform-trusted-intermediaries-notify@google.com"
staging_ti_notification_mailing_list = ${?STAGING_TI_LIST}
staging_applicant_notification_mailing_list = "seattle-civiform-applicants-notify@google.com"
staging_applicant_notification_mailing_list = ${?STAGING_APPLICANT_LIST}

# If enabled, allows Prometheus server metrics to be retrieved via the "/metrics" URL path.
# If "/metrics" is disabled, returns a 404.
server_metrics.enabled = false
server_metrics.enabled = ${?CIVIFORM_SERVER_METRICS_ENABLED}
# Configuration for monitoring library https://github.com/Jyllands-Posten/play-prometheus-filters
# The Prometheus Hotspot library provides some default collectors for garbage collection, memory pool, etc
play-prometheus-filters.register-default-hotspot-collectors = true

play.assets {
  path = "/public"
  urlPrefix = "/assets"
}

## Time zones
civiform.time.zoneid="America/Los_Angeles"
civiform.time.zoneid=${?CIVIFORM_TIME_ZONE_ID}

civiform_image_tag = "dev"
civiform_image_tag = ${?CIVIFORM_IMAGE_TAG}

# Secret salt for hashing API key secrets. The server will start with the
# default value of "changeme" but the admin will not be able to create API keys
# with it. DO NOT CHANGE THE DEFAULT VALUE WITHOUT ALSO CHANGING THE MATCHING
# VALUE IN ApiKeyService.
api_secret_salt = "changeme"
api_secret_salt = ${?CIVIFORM_API_SECRET_SALT}

api_keys_ban_global_subnet = true
api_keys_ban_global_subnet = ${?CIVIFORM_API_KEYS_BAN_GLOBAL_SUBNET}

# Max and default page size for ProgramApplicationsApiController.list
# This should be kept low enough so that the request completes before hitting the
# load balancer timeout.
api_applications_list_max_page_size = 1000
api_applications_list_max_page_size = ${?CIVIFORM_API_APPLICATIONS_LIST_MAX_PAGE_SIZE}

# deterministic reporting stats for browser tests
reporting_use_deterministic_stats = false
