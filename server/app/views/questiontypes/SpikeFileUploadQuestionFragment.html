<div
  th:fragment="file-upload(question, questionRendererParams, programId, blockId, applicantId)"
  th:with="fileUploadQuestion=${question.createFileUploadQuestion()},
    questionId=${'id-' + #strings.randomAlphanumeric(8)},
    inputId=${'id-' + #strings.randomAlphanumeric(8)}"
  th:id="${questionId}"
  class="cf-question-fileupload cf-applicant-question-field"
  data-testid="questionRoot"
>
  <!--/* Title and Help Text */-->
  <div
    th:replace="~{questiontypes/QuestionBaseFragment :: titleAndHelpTextSingleInput(${question}, ${questionId}, ${inputId})}"
  ></div>
  <h2>Alvin's Proof of Concept File Upload</h2>

  <input
    th:id="the-one-file-upload"
    class="usa-file-input"
    type="file"
    name="file"
    hx-trigger="change"
    multiple
  />

  <ul
    th:if="${fileUploadQuestion.getFileKeyListValue().isPresent()}"
    data-th-attr="data-uploaded-files=${fileUploadViewStrategy.getUploadedFileData(fileUploadQuestion)}, aria-label=#{label.uploadedFiles}"
    class="grid"
  >
    <li
      th:each="fileKey, iter: ${fileUploadQuestion.getFileKeyListValue().get()}"
      th:with="fileName=${fileUploadViewStrategy.getFileName(fileUploadQuestion.getFileNameForIndex(iter.index).get())}"
      class="grid-row margin-y-1"
    >
      <span
        th:text="${fileName}"
        class="overflow-hidden grid-col flex-fill"
      ></span>
    </li>
  </ul>
</div>
